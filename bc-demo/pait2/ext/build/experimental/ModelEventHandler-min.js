/*
 * Ext JS Library 1.0.1
 * Copyright(c) 2006-2007, Ext JS, LLC.
 * licensing@extjs.com
 * 
 * http://www.extjs.com/license
 */

Ext.grid.GridView.EventListener=function(_1){Ext.apply(this,_1);};Ext.grid.GridView.EventListener.prototype={initData:function(ds,cm){if(this.ds){this.ds.un("load",this.onLoad,this);this.ds.un("datachanged",this.onDataChange);this.ds.un("add",this.onAdd);this.ds.un("remove",this.onRemove);this.ds.un("update",this.onUpdate);this.ds.un("clear",this.onClear);}if(ds){ds.on("load",this.onLoad,this);ds.on("datachanged",this.onDataChange,this);ds.on("add",this.onAdd,this);ds.on("remove",this.onRemove,this);ds.on("update",this.onUpdate,this);ds.on("clear",this.onClear,this);}this.ds=ds;if(this.cm){this.cm.un("widthchange",this.onColWidthChange,this);this.cm.un("headerchange",this.onHeaderChange,this);this.cm.un("hiddenchange",this.onHiddenChange,this);this.cm.un("columnmoved",this.onColumnMove,this);this.cm.un("columnlockchange",this.onColumnLock,this);}if(cm){this.generateRules(cm);cm.on("widthchange",this.onColWidthChange,this);cm.on("headerchange",this.onHeaderChange,this);cm.on("hiddenchange",this.onHiddenChange,this);cm.on("columnmoved",this.onColumnMove,this);cm.on("columnlockchange",this.onColumnLock,this);}this.cm=cm;},onDataChange:function(){this.refresh();this.updateHeaderSortState();},onClear:function(){this.refresh();},onUpdate:function(ds,_5){this.refreshRow(_5);},onAdd:function(ds,_7,_8){this.insertRows(ds,_8,_8+(_7.length-1));},onRemove:function(ds,_a,_b,_c){if(_c!==true){this.fireEvent("beforerowremoved",this,_b,_a);}this.removeRow(_b);if(_c!==true){this.stripeRows(_b);this.layout();this.fireEvent("rowremoved",this,_b,_a);}},onLoad:function(){this.scrollToTop();},onColWidthChange:function(cm,_e,_f){this.updateColumnWidth(_e,_f);},onHeaderChange:function(cm,col,_12){this.updateHeaderText(col,_12);},onHiddenChange:function(cm,col,_15){},onColumnMove:function(cm,_17,_18){this.indexMap=null;var s=this.getScrollState();this.refresh(true);this.restoreScroll(s);this.afterMove(_18);},onColumnLock:Ext.emptyFn};
